---
import ThemeToggle from "../ThemeToggle.astro";
import NahiyanKhan from "@/assets/nahiyankhan.svg?raw";
---

<header
	id="main-header"
	class="fixed z-10 h-16 w-full overflow-hidden border-y bg-bgColor transition-colors duration-300 sm:h-24"
	x-data="{ endScroll: false, scroll: 59 }"
	@scroll.window="scroll = 59 - (window.scrollY*24/100); endScroll = window.scrollY >= (100 + 35/(24/100))"
>
	<div class="container mx-auto flex h-full flex-row justify-between border-x">
		<div
			class="flex h-full items-center"
			:class="{ 'translate-y-[59px]': !endScroll, 'translate-y-0': endScroll }"
			:style="!endScroll && { transform: `translateY(${scroll}px)` }"
			x-cloak
		>
			<div class="relative text-textProminent [&>svg]:h-6">
				<Fragment set:html={NahiyanKhan} />
			</div>
		</div>
		<ThemeToggle />
	</div>

	<style>
		[x-cloak] {
			display: none !important;
		}
	</style>
</header>
