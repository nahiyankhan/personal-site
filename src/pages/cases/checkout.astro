---
import CaseLayout from "@/layouts/CaseLayout.astro";
---

<CaseLayout meta={{ title: "Reimagining Checkout" }}>
	<!-- Section 1: Hero -->
	<section data-title="Intro">
		<span class="label">Case Study</span>
		<h1>Reimagining Checkout</h1>
		<p class="subtitle">Reducing friction in a 5-step purchase flow that was bleeding conversions.</p>
	</section>

	<!-- Section 2: The Work -->
	<section data-title="The Work">
		<div class="media-frame">
			<div class="media-placeholder">checkout flow demo</div>
		</div>
	</section>

	<!-- Section 3: Context -->
	<section data-title="Context">
		<span class="label">Context</span>
		<p class="body-text">
			Cart abandonment sat at 68%. Users were dropping off at step 3 of 5,
			right before payment. The existing flow was built incrementally over
			years—shipping, billing, payment, review, confirm—each step its own page load.
		</p>
		<div class="meta-row">
			<div class="meta-item">
				<span class="meta-label">Role</span>
				<span class="meta-value">Lead Design Engineer</span>
			</div>
			<div class="meta-item">
				<span class="meta-label">Timeline</span>
				<span class="meta-value">8 weeks</span>
			</div>
			<div class="meta-item">
				<span class="meta-label">Team</span>
				<span class="meta-value">2 engineers, 1 designer, 1 PM</span>
			</div>
		</div>
	</section>

	<!-- Section 4: Decision -->
	<section data-title="Decision" class="split">
		<div class="split-text">
			<span class="label">Decision</span>
			<h2>Single page, progressive disclosure</h2>
			<p class="body-text">
				We collapsed five pages into one. Each section reveals as the previous
				completes. No page loads, no lost context. The URL updates for
				deep-linking, but the DOM stays intact.
			</p>
		</div>
		<div class="split-media">
			<div class="media-placeholder">accordion states</div>
		</div>
	</section>

	<!-- Section 5: Iteration -->
	<section data-title="Iteration" class="split reverse">
		<div class="split-text">
			<span class="label">Iteration</span>
			<h2>The address problem</h2>
			<p class="body-text">
				A/B tests showed users still hesitated at address entry. We added
				autocomplete via Google Places API and a "same as shipping" toggle
				that actually worked. Small things. Big impact.
			</p>
		</div>
		<div class="split-media">
			<div class="media-placeholder">before / after address</div>
		</div>
	</section>

	<!-- Section 6: Outcome -->
	<section data-title="Outcome" class="centered">
		<span class="label">Outcome</span>
		<div class="stats">
			<div class="stat">
				<span class="stat-value">23%</span>
				<span class="stat-label">conversion lift</span>
			</div>
			<div class="stat">
				<span class="stat-value">40%</span>
				<span class="stat-label">faster completion</span>
			</div>
			<div class="stat">
				<span class="stat-value">$2.1M</span>
				<span class="stat-label">recovered revenue</span>
			</div>
		</div>
		<p class="body-text">
			The new flow shipped to 100% of traffic after two weeks of monitoring.
			Mobile conversion improved even more than desktop.
		</p>
	</section>

	<!-- Section 7: End -->
	<section data-title="End" class="centered end">
		<a href="/#forge" class="end-link">view more work &rarr;</a>
	</section>
</CaseLayout>

<style>
	/* Labels */
	.label {
		display: block;
		font-family: "JetBrains Mono Variable", monospace;
		font-size: 0.6875rem;
		text-transform: uppercase;
		letter-spacing: 0.15em;
		opacity: 0.4;
		margin-bottom: 1.5rem;
	}

	/* Typography */
	h1 {
		font-size: clamp(2rem, 8vw, 4rem);
		font-weight: 200;
		line-height: 1.1;
		letter-spacing: -0.02em;
		margin-bottom: 1rem;
	}

	h2 {
		font-size: clamp(1.25rem, 4vw, 2rem);
		font-weight: 200;
		line-height: 1.2;
		letter-spacing: -0.01em;
		margin-bottom: 1rem;
	}

	.subtitle {
		font-size: 1rem;
		opacity: 0.6;
		max-width: 36ch;
	}

	.body-text {
		font-size: 1rem;
		line-height: 2rem;
		max-width: 48ch;
		opacity: 0.8;
	}

	/* Media */
	.media-frame {
		width: 100%;
		max-width: 900px;
	}

	.media-placeholder {
		aspect-ratio: 16 / 10;
		border: 1px solid hsl(var(--border-divider) / 0.15);
		display: flex;
		align-items: center;
		justify-content: center;
		font-family: "JetBrains Mono Variable", monospace;
		font-size: 0.75rem;
		letter-spacing: 0.05em;
		opacity: 0.3;
	}

	/* Meta */
	.meta-row {
		display: flex;
		flex-wrap: wrap;
		gap: 2rem 3rem;
		margin-top: 3rem;
		padding-top: 1.5rem;
		border-top: 1px solid hsl(var(--border-divider) / 0.1);
	}

	.meta-item {
		display: flex;
		flex-direction: column;
		gap: 0.25rem;
	}

	.meta-label {
		font-family: "JetBrains Mono Variable", monospace;
		font-size: 0.625rem;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		opacity: 0.4;
	}

	.meta-value {
		font-size: 0.875rem;
	}

	/* Split layout */
	.split {
		display: grid;
		grid-template-columns: 1fr;
		gap: 2rem;
		align-items: center;
	}

	@media (min-width: 768px) {
		.split {
			grid-template-columns: 1fr 1fr;
			gap: 4rem;
		}

		.split.reverse .split-text {
			order: 2;
		}

		.split.reverse .split-media {
			order: 1;
		}
	}

	.split-media {
		width: 100%;
	}

	/* Centered */
	.centered {
		align-items: center;
		text-align: center;
	}

	.centered .body-text {
		text-align: center;
	}

	/* Stats */
	.stats {
		display: flex;
		gap: 3rem;
		margin: 2rem 0;
	}

	.stat {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.25rem;
	}

	.stat-value {
		font-size: clamp(1.5rem, 5vw, 2.5rem);
		font-weight: 200;
		letter-spacing: -0.02em;
	}

	.stat-label {
		font-family: "JetBrains Mono Variable", monospace;
		font-size: 0.625rem;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		opacity: 0.4;
	}

	/* End */
	.end {
		min-height: 50dvh !important;
	}

	.end-link {
		font-size: 0.875rem;
		color: inherit;
		opacity: 0.5;
		text-decoration: none;
		letter-spacing: 0.05em;
		transition: opacity 0.2s ease;
	}

	.end-link:hover {
		opacity: 1;
	}
</style>
